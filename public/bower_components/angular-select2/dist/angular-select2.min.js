!function(){"use strict";function a(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}angular.module("rt.select2",[]).value("select2Config",{}).directive("select2",["$rootScope","$timeout","$parse","select2Config",function(b,c,d,e){var f={},g=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return e&&angular.extend(f,e),{require:"ngModel",priority:1,restrict:"E",template:'<input type="hidden"></input>',replace:!0,link:function(b,e,h,i){var j,k,l=angular.extend({},f,b.$eval(h.options)),m=angular.isDefined(h.multiple)||l.multiple;l.multiple=m,h.placeholder&&(l.placeholder=h.placeholder);var n=d(h.ngModel);if(h.ngOptions){var o;if(!(o=h.ngOptions.match(g)))throw new Error("Invalid ngOptions encountered!");var p=d(o[2]||o[1]),q=d(o[7]),r=o[4]||o[6],s=d(o[2]?o[1]:r),t=o[5];k=function(c){for(var d=q(b),e=(t?a(d):d)||[],f=[],g=0;g<e.length;g++){var h={},i=g;t&&(i=e[g],h[t]=i),h[r]=d[i];var j=s(b,h),k=p(b,h)||"";f.push({id:j,text:k})}c(f)},l.query=function(c){for(var d=q(b),e=(t?a(d):d)||[],f=[],g=0;g<e.length;g++){var h={},i=g;t&&(i=e[g],h[t]=i),h[r]=d[i];var j=s(b,h),k=p(b,h)||"";k.toLowerCase().indexOf(c.term.toLowerCase())>-1&&f.push({id:j,text:k})}c.callback({results:f})}}else{if(!l.query)throw new Error("You need to supply a query function!");k=function(a){l.query({term:"",callback:function(b){a(b.results)}})}}j=function(a){k(function(b){for(var c=[],d=0;d<b.length;d++){var e=b[d];if(m)i.$viewValue&&i.$viewValue.indexOf(e.id)>-1&&c.push(e);else if(i.$viewValue===e.id)return void a(e)}a(c)})},i.$render=function(){j(function(a){m?e.select2("data",a):e.select2("val",a.id)})},l.initSelection=function(a,b){j(b)},c(function(){e.select2(l),e.on("change",function(a){b.$apply(function(){n.assign(b,a.val)})}),i.$render()})}}}])}();